<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add column(s) with new information</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for drive_reveal {googledrive}"><tr><td>drive_reveal {googledrive}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add column(s) with new information</h2>

<h3>Description</h3>

<p><code>drive_reveal()</code> adds extra information about your Drive files that is not
automatically present in the default <code><a href="dribble.html">dribble</a></code> produced by googledrive. Why
is this info not always present?
</p>

<ol>
<li><p> You don't always care about it.
</p>
</li>
<li><p> It may require calling different endpoints in the Drive API. Example:
determining if a file has been &quot;published on the web&quot;.
</p>
</li>
<li><p> It might require additional API calls. Example: figuring out the path(s)
associated with a specific file.
</p>
</li></ol>



<h3>Usage</h3>

<pre>
drive_reveal(file, what = c("path", "trashed", "mime_type",
  "permissions", "published"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>file</code></td>
<td>
<p>Something that identifies the file(s) of interest on your Google
Drive. Can be a character vector of names/paths, a character vector of file
ids or URLs marked with <code><a href="as_id.html">as_id()</a></code>, or a <code><a href="dribble.html">dribble</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>what</code></td>
<td>
<p>Character, describing the type of info you want to add:
</p>

<ul>
<li><p> path. Warning: this can be slow, especially if called on many files.
</p>
</li>
<li><p> trashed
</p>
</li>
<li><p> mime_type
</p>
</li>
<li><p> permissions. Who is this file shared with and in which roles?
</p>
</li>
<li><p> published
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="dribble.html">dribble</a></code>, a tibble with one row per item.
</p>


<h3>Special considerations for paths</h3>

<p>Note that Google Drive does NOT behave like your local file system:
</p>

<ul>
<li><p> File and folder names need not be unique, even at a given level of
the hierarchy. A single name or file path can be associated with multiple
files (or zero or exactly one).
</p>
</li>
<li><p> A file can have more than one direct parent. This implies that a
single file can be represented by multiple paths.
</p>
</li></ul>

<p>Bottom line: Do not assume there is a one-to-one relationship between file
name or path and a Drive file or folder. This implies the length of the input
(i.e. the number of input paths or the number of rows in a dribble) will not
necessarily equal the number rows in the output.
</p>


<h3>Trashed</h3>

<p>When <code>what = "trashed"</code>, the <code><a href="dribble.html">dribble</a></code> gains a logical variable that
indicates whether a file is in the trash.
</p>


<h3>MIME type</h3>

<p>When <code>what = "mime_type"</code>, the <code><a href="dribble.html">dribble</a></code> gains a
variable of MIME types.
</p>


<h3>Permissions</h3>

<p>When <code>what = "permissions"</code> the <code><a href="dribble.html">dribble</a></code> gains a logical variable <code>shared</code>
that indicates whether a file is shared and a new list-column
<code>permissions_resource</code> containing lists of
<a href="https://developers.google.com/drive/v3/reference/permissions#resource">Permissions resources</a>.
</p>


<h3>Publishing</h3>

<p>When <code>what = "published"</code> the <code><a href="dribble.html">dribble</a></code> gains a logical variable
<code>published</code> that indicates whether a file is published and a new list-column
<code>revision_resource</code> containing lists of
<a href="https://developers.google.com/drive/v3/reference/revisions#resource">Revisions resources</a>.
</p>


<h3>Examples</h3>

<pre>
## Not run: 
## Get a nice, random selection of files
files &lt;- drive_find(n_max = 10, trashed = NA)

## Reveal
##   * paths (warning: can be slow for many files!)
##   * if `trashed` or not
##   * MIME type
##   * permissions, i.e. sharing status
##   * if `published` or not
drive_reveal(files, "path")
drive_reveal(files, "trashed")
drive_reveal(files, "mime_type")
drive_reveal(files, "permissions")
drive_reveal(files, "published")

## 'root' is a special file id that always represents your root folder
drive_get(id = "root") %&gt;% drive_reveal("path")

## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>googledrive</em> version 1.0.0 <a href="00Index.html">Index</a>]</div>
</body></html>
